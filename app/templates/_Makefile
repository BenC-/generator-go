# VARIABLES
TARG=sgs-enabler
PACKAGE="<%=myrepoUrl%>/<%=myappName%>"
BINARY_NAME="<%=myappName%>"

# Default target : Build and run executable
default: run
	@echo "Done. Executable is: $@"

# Clean .o files and binary
clean:
	@echo "--> cleaning..."
	@go clean
	@rm -rf bin/$(BINARY_NAME) 2> /dev/null

# Compile sources and build binary
install: clean
	@echo "--> installing..."
    @if [ $$(go install $(PACKAGE)) ] \
        then \
            true; \
        else \	
        	@echo >&2 "Compilation error occured, unable to install your application";
            false; \
        fi

# Run your application
run : clean install
	bin/$(BINARY_NAME)
